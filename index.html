<div id="doc" class="markdown-body container-fluid comment-enabled" data-hard-breaks="true" style="position: relative;"><h1 id="Unleash-the-power">Unleash the power!</h1><p>slide: <a href="https://hackmd.io/p/template-talk-slide" target="_blank" rel="noopener">https://hackmd.io/p/template-talk-slide</a></p><hr><p>We have a collaborative session</p><p>please prepare laptop or smartphone to join!</p><hr><h2 id="Who-am-I">Who am I?</h2><ul>
<li>Front-end developer</li>
<li>VSCode <img alt=":heart:" class="emoji" src="https://cdnjs.cloudflare.com/ajax/libs/emojify.js/1.1.0/images/basic/heart.png" title=":heart:"></li>
<li>I use tabs. <img alt=":cat:" class="emoji" src="https://cdnjs.cloudflare.com/ajax/libs/emojify.js/1.1.0/images/basic/cat.png" title=":cat:"></li>
</ul><hr><h3 id="70-of-our-users-are-developers-Developers-GitHub">70% of our users are developers. Developers <img alt=":heart:" class="emoji" src="https://cdnjs.cloudflare.com/ajax/libs/emojify.js/1.1.0/images/basic/heart.png" title=":heart:"> GitHub.</h3><hr><p><span class="youtube" data-videoid="E8Nj7RwXf0s"><img src="//img.youtube.com/vi/E8Nj7RwXf0s/hqdefault.jpg"><i class="icon fa fa-youtube-play fa-5x"></i></span></p><hr><h3 id="Usage-flow">Usage flow</h3><hr><pre class="graphviz"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %0 Pages: 1 -->
<svg width="441pt" height="176pt" viewBox="0.00 0.00 440.95 175.60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 171.6)">
<title>%0</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-171.6 436.9514,-171.6 436.9514,4 -4,4"></polygon>
<g id="clust2" class="cluster">
<title>cluster1</title>
<polygon fill="none" stroke="#000000" points="8,-8 8,-108 424.9514,-108 424.9514,-8 8,-8"></polygon>
<text text-anchor="middle" x="216.4757" y="-86" font-family="Source Sans Pro" font-size="20.00" fill="#000000">An edit session</text>
</g>
<!-- c -->
<g id="node1" class="node">
<title>c</title>
<polygon fill="none" stroke="#000000" points="399.6951,-167.7004 301.7459,-167.7004 301.7459,-116.2996 399.6951,-116.2996 399.6951,-167.7004"></polygon>
<text text-anchor="middle" x="350.7205" y="-147.4" font-family="Source Sans Pro" font-size="18.00" fill="#000000">Hackmd-it </text>
<text text-anchor="middle" x="350.7205" y="-125.8" font-family="Source Sans Pro" font-size="18.00" fill="#000000">core</text>
</g>
<!-- sync -->
<g id="node2" class="node">
<title>sync</title>
<text text-anchor="middle" x="221.4896" y="-40.6" font-family="Source Sans Pro" font-size="18.00" fill="#000000">sync</text>
</g>
<!-- c&#45;&gt;sync -->
<g id="edge1" class="edge">
<title>c-&gt;sync</title>
<path fill="none" stroke="#000000" d="M301.7765,-122.4454C295.7548,-119.2905 289.8434,-115.7978 284.4896,-112 268.6545,-100.7672 253.5416,-85.1621 242.0888,-71.946"></path>
<polygon fill="#000000" stroke="#000000" points="244.5809,-69.4721 235.4572,-64.0862 239.2309,-73.9862 244.5809,-69.4721"></polygon>
</g>
<!-- a -->
<g id="node3" class="node">
<title>a</title>
<polygon fill="none" stroke="#000000" points="158.7352,-67.7004 15.7544,-67.7004 15.7544,-16.2996 158.7352,-16.2996 158.7352,-67.7004"></polygon>
<text text-anchor="middle" x="87.2448" y="-47.4" font-family="Source Sans Pro" font-size="18.00" fill="#000000">Text source</text>
<text text-anchor="middle" x="87.2448" y="-25.8" font-family="Source Sans Pro" font-size="18.00" fill="#000000">Github, Gitlab, ...</text>
</g>
<!-- sync&#45;&gt;a -->
<g id="edge3" class="edge">
<title>sync-&gt;a</title>
<path fill="none" stroke="#000000" d="M184.2105,-44.8892C179.3067,-44.7431 174.1361,-44.589 168.8392,-44.4312"></path>
<polygon fill="#000000" stroke="#000000" points="184.2233,-48.3911 194.3232,-45.1905 184.4319,-41.3942 184.2233,-48.3911"></polygon>
<polygon fill="#000000" stroke="#000000" points="168.6342,-40.9236 158.5344,-44.1242 168.4257,-47.9205 168.6342,-40.9236"></polygon>
</g>
<!-- b -->
<g id="node4" class="node">
<title>b</title>
<polygon fill="none" stroke="#000000" points="417.1831,-64 284.2579,-64 284.2579,-28 417.1831,-28 417.1831,-64"></polygon>
<text text-anchor="middle" x="350.7205" y="-40.6" font-family="Source Sans Pro" font-size="18.00" fill="#000000">HackMD Editor</text>
</g>
<!-- b&#45;&gt;sync -->
<g id="edge2" class="edge">
<title>b-&gt;sync</title>
<path fill="none" stroke="#000000" d="M273.9239,-46C268.707,-46 263.6001,-46 258.7459,-46"></path>
<polygon fill="#000000" stroke="#000000" points="274.2123,-49.5001 284.2123,-46 274.2122,-42.5001 274.2123,-49.5001"></polygon>
<polygon fill="#000000" stroke="#000000" points="258.5782,-42.5001 248.5782,-46 258.5781,-49.5001 258.5782,-42.5001"></polygon>
</g>
</g>
</svg>
</pre><hr><h3 id="Architecture-of-extension">Architecture of extension</h3><hr><p><img src="https://i.imgur.com/ij69tPh.png" alt=""></p><hr><h2 id="Content-script">Content script</h2><ul>
<li>Bind with each page</li>
<li>Manipulate DOM</li>
<li>Add event listeners</li>
<li>Isolated JavaScript environment
<ul>
<li>It doesn’t break things</li>
</ul>
</li>
</ul><hr><h1 id="tip1"><img alt=":fork_and_knife:" class="emoji" src="https://cdnjs.cloudflare.com/ajax/libs/emojify.js/1.1.0/images/basic/fork_and_knife.png" title=":fork_and_knife:"></h1><hr><style>
code.blue {
  color: #337AB7 !important;
}
code.orange {
  color: #F7A004 !important;
}
</style><ul>
<li><code class="orange">onMessage(‘event’)</code>: Register event listener</li>
<li><code class="blue">sendMessage(‘event’)</code>: Trigger event</li>
</ul><hr><h1 id="tip2"><img alt=":bulb:" class="emoji" src="https://cdnjs.cloudflare.com/ajax/libs/emojify.js/1.1.0/images/basic/bulb.png" title=":bulb:"></h1><hr><ul>
<li>Dead simple API</li>
<li>Only cares about application logic</li>
</ul><hr><pre><code class="typescript hljs"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> Channeru <span class="token keyword">from</span> <span class="token string">'channeru'</span>

<span class="token comment">// setup channel in different page environment, once</span>
<span class="token keyword">const</span> channel <span class="token operator">=</span> Channeru<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><hr><pre><code class="typescript hljs"><span class="token comment">// in background script</span>
<span class="token keyword">const</span> fakeLogin <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token boolean">true</span>

channel<span class="token punctuation">.</span><span class="token function">answer</span><span class="token punctuation">(</span><span class="token string">'isLogin'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">await</span> <span class="token function">fakeLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><br><pre><code class="typescript hljs"><span class="token comment">// in inject script</span>
<span class="token keyword">const</span> isLogin <span class="token operator">=</span> <span class="token keyword">await</span> channel<span class="token punctuation">.</span><span class="token function">callBackground</span><span class="token punctuation">(</span><span class="token string">'isLogin'</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>isLogin<span class="token punctuation">)</span> <span class="token comment">//-&gt; true</span>
</code></pre><hr><h1 id="-"><img alt=":100:" class="emoji" src="https://cdnjs.cloudflare.com/ajax/libs/emojify.js/1.1.0/images/basic/100.png" title=":100:"> <img alt=":muscle:" class="emoji" src="https://cdnjs.cloudflare.com/ajax/libs/emojify.js/1.1.0/images/basic/muscle.png" title=":muscle:"> <img alt=":tada:" class="emoji" src="https://cdnjs.cloudflare.com/ajax/libs/emojify.js/1.1.0/images/basic/tada.png" title=":tada:"></h1><hr><h3 id="Wrap-up">Wrap up</h3><ul>
<li>Cross envornment commnication</li>
<li>A small library to solve messaging pain</li>
<li>TypeScript Rocks <img alt=":tada:" class="emoji" src="https://cdnjs.cloudflare.com/ajax/libs/emojify.js/1.1.0/images/basic/tada.png" title=":tada:"></li>
</ul><hr><h3 id="Thank-you-">Thank you! <img alt=":sheep:" class="emoji" src="https://cdnjs.cloudflare.com/ajax/libs/emojify.js/1.1.0/images/basic/sheep.png" title=":sheep:"></h3><p>You can find me on</p><ul>
<li>GitHub</li>
<li>Twitter</li>
<li>or email me</li>
</ul></div>